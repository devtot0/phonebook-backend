{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","value","onChange","Form","onSubmit","nameValue","numberValue","onChangeName","onChangeNumber","type","Person","singlePerson","removeNameHandler","name","number","onClick","id","Persons","personList","nameFilter","filter","person","includes","map","Notification","message","isSuccesful","className","baseUrl","axios","get","newPerson","post","updatedObject","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNameFilter","confirmationMessage","setConfirmationMessage","isDeletionSuccessful","setIsDeletionSuccessful","useEffect","personService","then","response","data","namesListReducer","accumulator","currentValue","concat","event","target","preventDefault","reduce","window","confirm","personToUpdate","find","console","log","updatedPerson","setTimeout","catch","error","personToRemove","alert","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.694cac8f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Form = ({onSubmit, nameValue, numberValue, onChangeName, onChangeNumber}) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <div>\r\n          name: <input value={nameValue} onChange={onChangeName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={numberValue} onChange={onChangeNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ singlePerson, removeNameHandler }) => {\r\n  return (\r\n    <div>\r\n      {singlePerson.name} {singlePerson.number}{\" \"}\r\n      <button onClick={() => removeNameHandler(singlePerson.id)}>delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ personList, nameFilter, removeNameHandler }) => {\r\n  return (\r\n    <div>\r\n      {personList\r\n        .filter((person) => person.name.includes(nameFilter))\r\n        .map((person) => (\r\n          <Person\r\n            key={person.id}\r\n            singlePerson={person}\r\n            removeNameHandler={removeNameHandler}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","const Notification = ({ message, isSuccesful }) => {\r\n  if (message === null) {\r\n    return <></>;\r\n  }\r\n  if (isSuccesful) {\r\n    return <div className=\"success\">{message}</div>;\r\n  } else {\r\n    return <div className=\"fail\">{message}</div>;\r\n  }\r\n};\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n  return axios.post(baseUrl, newPerson);\r\n};\r\n\r\nconst update = (id, updatedObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, updatedObject);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport Form from \"./components/Form\";\r\nimport Persons from \"./components/Persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport personService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [nameFilter, setNameFilter] = useState(\"\");\r\n  const [confirmationMessage, setConfirmationMessage] = useState(null);\r\n  const [isDeletionSuccessful, setIsDeletionSuccessful] = useState(true);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((response) => {\r\n      setPersons(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const namesListReducer = (accumulator, currentValue) =>\r\n    accumulator.concat(currentValue.name);\r\n\r\n  const addNewName = (event) => {\r\n    event.preventDefault();\r\n\r\n    const namesList = persons.reduce(namesListReducer, []);\r\n\r\n    if (namesList.includes(newName)) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        const personToUpdate = persons.find(\r\n          (person) => person.name === newName\r\n        );\r\n        console.log(personToUpdate);\r\n        console.log(personToUpdate.id);\r\n        const updatedPerson = { ...personToUpdate, number: newNumber };\r\n        console.log(updatedPerson);\r\n        console.log(updatedPerson.id);\r\n        personService\r\n          .update(personToUpdate.id, updatedPerson)\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== response.data.id ? person : response.data\r\n              )\r\n            );\r\n            setConfirmationMessage(`Updated ${newName}`);\r\n            setTimeout(() => {\r\n              setConfirmationMessage(null);\r\n            }, 5000);\r\n          })\r\n          .catch((error) => {\r\n            setIsDeletionSuccessful(false);\r\n            setConfirmationMessage(\r\n              `Information for ${newName} has already been removed from the server`\r\n            );\r\n            setTimeout(() => {\r\n              setConfirmationMessage(null);\r\n            }, 5000);\r\n          });\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      };\r\n      personService.create(personObject).then((response) => {\r\n        personService.getAll().then((response) => setPersons(response.data));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setConfirmationMessage(`Added ${newName}`);\r\n        setTimeout(() => {\r\n          setConfirmationMessage(null);\r\n        }, 5000);\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeName = (id) => {\r\n    const personToRemove = persons.find((person) => person.id === id);\r\n    if (window.confirm(`Delete ${personToRemove.name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then((response) => console.log(response))\r\n        .catch((error) => window.alert(\"An error occured.\"));\r\n    }\r\n    setIsDeletionSuccessful(true);\r\n    setPersons(\r\n      persons.filter((person) => {\r\n        return person.id !== id;\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value);\r\n\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\r\n\r\n  const handleNameFiltering = (event) => setNameFilter(event.target.value);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification\r\n        message={confirmationMessage}\r\n        isSuccesful={isDeletionSuccessful}\r\n      />\r\n      <Filter value={nameFilter} onChange={handleNameFiltering} />\r\n      <Form\r\n        onSubmit={addNewName}\r\n        nameValue={newName}\r\n        numberValue={newNumber}\r\n        onChangeName={handleNameChange}\r\n        onChangeNumber={handleNumberChange}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <div>debug: {newName}</div>\r\n      <Persons\r\n        personList={persons}\r\n        nameFilter={nameFilter}\r\n        removeNameHandler={removeName}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}